<!DOCTYPE HTML>
<html lang="en" class="sidebar-visible no-js light">
    <head>
        <!-- Book generated using mdBook -->
        <meta charset="UTF-8">
        <title>FRC Programming</title>
        <meta name="robots" content="noindex" />


        <!-- Custom HTML head -->
        
        <meta name="description" content="">
        <meta name="viewport" content="width=device-width, initial-scale=1">
        <meta name="theme-color" content="#ffffff" />

        <link rel="icon" href="favicon.svg">
        <link rel="shortcut icon" href="favicon.png">
        <link rel="stylesheet" href="css/variables.css">
        <link rel="stylesheet" href="css/general.css">
        <link rel="stylesheet" href="css/chrome.css">
        <link rel="stylesheet" href="css/print.css" media="print">

        <!-- Fonts -->
        <link rel="stylesheet" href="FontAwesome/css/font-awesome.css">
        <link rel="stylesheet" href="fonts/fonts.css">

        <!-- Highlight.js Stylesheets -->
        <link rel="stylesheet" href="highlight.css">
        <link rel="stylesheet" href="tomorrow-night.css">
        <link rel="stylesheet" href="ayu-highlight.css">

        <!-- Custom theme stylesheets -->

    </head>
    <body>
        <!-- Provide site root to javascript -->
        <script>
            var path_to_root = "";
            var default_theme = window.matchMedia("(prefers-color-scheme: dark)").matches ? "navy" : "light";
        </script>

        <!-- Work around some values being stored in localStorage wrapped in quotes -->
        <script>
            try {
                var theme = localStorage.getItem('mdbook-theme');
                var sidebar = localStorage.getItem('mdbook-sidebar');

                if (theme.startsWith('"') && theme.endsWith('"')) {
                    localStorage.setItem('mdbook-theme', theme.slice(1, theme.length - 1));
                }

                if (sidebar.startsWith('"') && sidebar.endsWith('"')) {
                    localStorage.setItem('mdbook-sidebar', sidebar.slice(1, sidebar.length - 1));
                }
            } catch (e) { }
        </script>

        <!-- Set the theme before any content is loaded, prevents flash -->
        <script>
            var theme;
            try { theme = localStorage.getItem('mdbook-theme'); } catch(e) { }
            if (theme === null || theme === undefined) { theme = default_theme; }
            var html = document.querySelector('html');
            html.classList.remove('no-js')
            html.classList.remove('light')
            html.classList.add(theme);
            html.classList.add('js');
        </script>

        <!-- Hide / unhide sidebar before it is displayed -->
        <script>
            var html = document.querySelector('html');
            var sidebar = 'hidden';
            if (document.body.clientWidth >= 1080) {
                try { sidebar = localStorage.getItem('mdbook-sidebar'); } catch(e) { }
                sidebar = sidebar || 'visible';
            }
            html.classList.remove('sidebar-visible');
            html.classList.add("sidebar-" + sidebar);
        </script>

        <nav id="sidebar" class="sidebar" aria-label="Table of contents">
            <div class="sidebar-scrollbox">
                <ol class="chapter"><li class="chapter-item expanded affix "><a href="intro.html">Introduction</a></li><li class="chapter-item expanded affix "><a href="overview.html">Overview</a></li><li class="chapter-item expanded "><a href="basics/intro.html"><strong aria-hidden="true">1.</strong> WPILib Basics</a></li><li><ol class="section"><li class="chapter-item expanded "><a href="basics/setup.html"><strong aria-hidden="true">1.1.</strong> Installation and Setup</a></li><li class="chapter-item expanded "><a href="basics/hardware-control.html"><strong aria-hidden="true">1.2.</strong> Hardware Control</a></li><li class="chapter-item expanded "><a href="basics/robot-and-robot-container.html"><strong aria-hidden="true">1.3.</strong> The Robot and RobotContainer Classes</a></li></ol></li><li class="chapter-item expanded "><a href="command-based/intro.html"><strong aria-hidden="true">2.</strong> Command-Based Programming</a></li><li><ol class="section"><li class="chapter-item expanded "><a href="command-based/subsystems/overview.html"><strong aria-hidden="true">2.1.</strong> Subsystems</a></li><li><ol class="section"><li class="chapter-item expanded "><a href="command-based/subsystems/creating.html"><strong aria-hidden="true">2.1.1.</strong> Creating a Subsystem</a></li><li class="chapter-item expanded "><a href="command-based/subsystems/common-issues.html"><strong aria-hidden="true">2.1.2.</strong> Common Issues</a></li><li class="chapter-item expanded "><a href="command-based/subsystems/best-practices.html"><strong aria-hidden="true">2.1.3.</strong> Best Practices</a></li></ol></li><li class="chapter-item expanded "><a href="command-based/commands/overview.html"><strong aria-hidden="true">2.2.</strong> Commands</a></li><li><ol class="section"><li class="chapter-item expanded "><a href="command-based/commands/creating.html"><strong aria-hidden="true">2.2.1.</strong> Creating a Command</a></li><li class="chapter-item expanded "><a href="command-based/commands/common-issues.html"><strong aria-hidden="true">2.2.2.</strong> Common Issues</a></li><li class="chapter-item expanded "><a href="command-based/commands/best-practices.html"><strong aria-hidden="true">2.2.3.</strong> Best Practices</a></li></ol></li><li class="chapter-item expanded "><a href="command-based/command-groups/overview.html"><strong aria-hidden="true">2.3.</strong> Command Groups</a></li><li><ol class="section"><li class="chapter-item expanded "><a href="command-based/command-groups/creating.html"><strong aria-hidden="true">2.3.1.</strong> Creating a Command Group</a></li><li class="chapter-item expanded "><a href="command-based/command-groups/common-issues.html"><strong aria-hidden="true">2.3.2.</strong> Common Issues</a></li><li class="chapter-item expanded "><a href="command-based/command-groups/best-practices.html"><strong aria-hidden="true">2.3.3.</strong> Best Practices</a></li></ol></li></ol></li><li class="chapter-item expanded "><a href="motor-control/intro.html"><strong aria-hidden="true">3.</strong> Drivetrain & Motor Control</a></li><li><ol class="section"><li class="chapter-item expanded "><a href="motor-control/pid.html"><strong aria-hidden="true">3.1.</strong> PID</a></li><li class="chapter-item expanded "><a href="motor-control/feedforwards.html"><strong aria-hidden="true">3.2.</strong> Feedforwards</a></li><li class="chapter-item expanded "><a href="motor-control/pose-estimation.html"><strong aria-hidden="true">3.3.</strong> Pose Estimation</a></li><li class="chapter-item expanded "><a href="motor-control/path-planning.html"><strong aria-hidden="true">3.4.</strong> Path Planning</a></li></ol></li><li class="chapter-item expanded "><a href="vision/intro.html"><strong aria-hidden="true">4.</strong> Vision</a></li></ol>
            </div>
            <div id="sidebar-resize-handle" class="sidebar-resize-handle"></div>
        </nav>

        <div id="page-wrapper" class="page-wrapper">

            <div class="page">
                                <div id="menu-bar-hover-placeholder"></div>
                <div id="menu-bar" class="menu-bar sticky bordered">
                    <div class="left-buttons">
                        <button id="sidebar-toggle" class="icon-button" type="button" title="Toggle Table of Contents" aria-label="Toggle Table of Contents" aria-controls="sidebar">
                            <i class="fa fa-bars"></i>
                        </button>
                        <button id="theme-toggle" class="icon-button" type="button" title="Change theme" aria-label="Change theme" aria-haspopup="true" aria-expanded="false" aria-controls="theme-list">
                            <i class="fa fa-paint-brush"></i>
                        </button>
                        <ul id="theme-list" class="theme-popup" aria-label="Themes" role="menu">
                            <li role="none"><button role="menuitem" class="theme" id="light">Light</button></li>
                            <li role="none"><button role="menuitem" class="theme" id="rust">Rust</button></li>
                            <li role="none"><button role="menuitem" class="theme" id="coal">Coal</button></li>
                            <li role="none"><button role="menuitem" class="theme" id="navy">Navy</button></li>
                            <li role="none"><button role="menuitem" class="theme" id="ayu">Ayu</button></li>
                        </ul>
                        <button id="search-toggle" class="icon-button" type="button" title="Search. (Shortkey: s)" aria-label="Toggle Searchbar" aria-expanded="false" aria-keyshortcuts="S" aria-controls="searchbar">
                            <i class="fa fa-search"></i>
                        </button>
                    </div>

                    <h1 class="menu-title">FRC Programming</h1>

                    <div class="right-buttons">
                        <a href="print.html" title="Print this book" aria-label="Print this book">
                            <i id="print-button" class="fa fa-print"></i>
                        </a>

                    </div>
                </div>

                <div id="search-wrapper" class="hidden">
                    <form id="searchbar-outer" class="searchbar-outer">
                        <input type="search" id="searchbar" name="searchbar" placeholder="Search this book ..." aria-controls="searchresults-outer" aria-describedby="searchresults-header">
                    </form>
                    <div id="searchresults-outer" class="searchresults-outer hidden">
                        <div id="searchresults-header" class="searchresults-header"></div>
                        <ul id="searchresults">
                        </ul>
                    </div>
                </div>

                <!-- Apply ARIA attributes after the sidebar and the sidebar toggle button are added to the DOM -->
                <script>
                    document.getElementById('sidebar-toggle').setAttribute('aria-expanded', sidebar === 'visible');
                    document.getElementById('sidebar').setAttribute('aria-hidden', sidebar !== 'visible');
                    Array.from(document.querySelectorAll('#sidebar a')).forEach(function(link) {
                        link.setAttribute('tabIndex', sidebar === 'visible' ? 0 : -1);
                    });
                </script>

                <div id="content" class="content">
                    <main>
                        <h1 id="introduction"><a class="header" href="#introduction">Introduction</a></h1>
<p>Welcome to <strong>FRC Programming</strong>! This guide aims to give you a basic understanding of how robots in FRC are programmed, helping you get up-to-speed quickly on the fundamentals.
It also aims to be useful as a reference if you need to brush up on something you haven't touched in a while.</p>
<p>Start with a <a href="/overview.html">coding-focused overview of FRC</a>, or use the sidebar to jump to a specific section.</p>
<h2 id="prerequisites"><a class="header" href="#prerequisites">Prerequisites</a></h2>
<p>This guide assumes the following:</p>
<ul>
<li>General understanding of object-oriented programming and inheritance
<ul>
<li>Note: knowledge of a specific language is not required.
Examples will be given in <a href="https://en.wikipedia.org/wiki/Pseudocode">pseudocode</a> whenever possible to keep this guide language-independent.
Some examples will be given in Java as comprehensive, real-world demonstrations.</li>
</ul>
</li>
<li>All other assumed knowledge is kept to a minimum</li>
</ul>
<h2 id="why-this-guide"><a class="header" href="#why-this-guide">Why This Guide</a></h2>
<p>There are plenty of other resources on FRC Programming available, such as
<a href="https://docs.wpilib.org/en/stable/index.html">WPILib's official documentation</a>, <a href="https://github.com/Emory-Robotics/FRC-Programming-Guide">Emory Robotics' FRC Programming Guide</a>,
<a href="https://www.reddit.com/r/FRC_PROGRAMMING/">r/FRC_PROGRAMMING</a>, <a href="https://github.com/frc5687/2021-tutorial">team 5687's guide</a>, or just google for more.
However, this guide has a few explicit goals that other resources tend not to fulfill:</p>
<ul>
<li><em>Avoid jargon.</em> Some resources use a lot of technical terms without first explaining them.</li>
<li><em>Be structured.</em> Some resources have great information, but don't structure it in a way such that a beginner can easily learn.</li>
<li><em>Be language-independent.</em> Some resources focus specifically on Java or C++, rather than on the concepts that are shared across all WPILib languages.</li>
<li><em>Give lots of diagrams and code examples.</em> Some resources give only large blocks of text or long videos, without any alternative forms of presenting the information.</li>
<li><em>Explain why.</em> Some resources give great explanations on current conventions and best-practices, but don't explain their purpose or what problems they avoid.</li>
</ul>
<h2 id="a-word-on-coding-style"><a class="header" href="#a-word-on-coding-style">A Word on Coding Style</a></h2>
<p>WPILib code often follows particular naming choices, such as prefixing class variable names with <code>m_</code> and beginning enum option names with <code>k</code>.
This guide makes no attempt to follow these conventions, as not all teams stick to them
and they would only distract from the intent of the code examples.
When writing robot code, programmers should use whichever naming conventions are used within their team.</p>
<h2 id="contributing"><a class="header" href="#contributing">Contributing</a></h2>
<p>This guide is free and open-source. You can find the source on <a href="https://github.com/JoeWildfong/frc-programming">GitHub</a> and open and issue or submit a pull request to suggest a change.</p>
<div style="break-before: page; page-break-before: always;"></div><h1 id="overview"><a class="header" href="#overview">Overview</a></h1>
<p>Here's a breakdown of the hardware commonly involved in FRC competitions:</p>
<pre class="mermaid">flowchart TD
    Computer[Computer]
    subgraph Robot
        RIO((&quot;RoboRIO Microcontroller&quot;))
        Radio([Radio])
        subgraph CAN[CAN Devices]
            direction LR
            Pneumatics[/Pneumatics Controller/]
            Motors[/Motors/]
            Pneumatics --- Motors
        end
        subgraph Sensors
            Digital([&quot;
                Encoders
                Limit Switches
                Other Digital Sensors
            &quot;])
            Analog([&quot;
                Potentiometers
                Other Analog Sensors
            &quot;])
            Fancy([&quot;
                Color Sensors
                Gyroscopes
                Other Complex Sensors
            &quot;])
        end
        subgraph Vision
            Pi[Raspberry Pi]
            Camera([Camera])
        end

        RIO &lt;--CAN loop--&gt; CAN
        RIO &lt;--Network Tables--&gt; Vision
        Pi &lt;--USB--&gt; Camera
        Digital --Digital Pins--&gt; RIO
        Analog --Analog Pins--&gt; RIO
        Fancy --I2C or SPI--&gt; RIO
        Radio &lt;--Ethernet--&gt; RIO
    end
    Computer &lt;--WiFi--&gt; Radio
    Computer -.USB.-&gt; RIO
    classDef input fill: orange
    class Radio,Digital,Analog,Fancy,Camera input
    classDef output fill: lightgreen
    class Pneumatics,Motors output
</pre>
<p>On the software side, an oversimplified diagram might look like this:</p>
<pre class="mermaid">flowchart TD
    Timer[&quot;
        External Timer
        Triggers on a set period
        (every 50ms by default)
    &quot;]
    subgraph Framework[WPILib Framework]
        Entry[WPILib Logic]
        subgraph Ours[Our Code]
            Auto[Autonomous Logic]
            Teleop[Teleoperated Logic]
        end
        Entry -.When in auto mode.-&gt; Auto
        Entry -.When in teleop mode.-&gt; Teleop
        subgraph Helpers[Other WPILib Classes]
            direction LR
            Motors
            Pneumatics
            Schedulers
            Sensors
            Motors ~~~ Pneumatics
            Pneumatics ~~~ Sensors
            Sensors ~~~ Schedulers
        end
        Auto --&gt; Helpers
        Teleop --&gt; Helpers
    end
    Timer --&gt; Framework
    Framework --&gt; Wait[Done, waiting for Timer]
</pre>
<h2 id="terms-and-definitions"><a class="header" href="#terms-and-definitions">Terms and definitions</a></h2>
<p><strong>FRC</strong>: First Robotics Competition - the entire competition and community, including
building the robots, programming, wiring, social media, business, driving, etc.
Also sometimes called <strong>FIRST</strong>, although technically FIRST is the nonprofit that
organizes the competitions.</p>
<p><strong>WPILib</strong>: A <a href="https://en.wikipedia.org/wiki/Software_framework">framework</a> used by almost all FRC teams for programming. WPILib handles many
of the hardest parts of robot coding for you, wrapping them up in a nicer, easier-to-use
library. Examples of WPILib features include controlling almost all FRC hardware such as motors
and solenoids, setting up a main loop to run every 20ms, and providing a framework for Command-Based Programming.</p>
<p><strong>Command-Based Programming</strong>: A <a href="https://en.wikipedia.org/wiki/Programming_paradigm">paradigm</a> used within WPILib code. It's intended to allow
you to have the robot perform multiple actions at the same time, without allowing you to
accidentally have the same hardware trying to do both. WPILib offers other paradigms, but
Command-Based is the most popular and generally the easiest to use. This guide focuses on
Command-Based Programming - see <a href="/command-based/intro.html">Chapter 2</a>.</p>
<p><strong>Subsystems</strong> and <strong>Commands</strong>: Important concepts in Command-Based Programming.
Subsystems are groups made up of one or more pieces of physical hardware on the robot with
a common purpose (e.g. a grabber, a drivetrain, etc.) and commands are actions that these
subsystems can take (e.g. pick up an object, follow a preprogrammed path, etc.).</p>
<div style="break-before: page; page-break-before: always;"></div><h1 id="wpilib-basics"><a class="header" href="#wpilib-basics">WPILib Basics</a></h1>
<div style="break-before: page; page-break-before: always;"></div><h1 id="installation-and-setup"><a class="header" href="#installation-and-setup">Installation and Setup</a></h1>
<div style="break-before: page; page-break-before: always;"></div><h1 id="hardware-control"><a class="header" href="#hardware-control">Hardware Control</a></h1>
<div style="break-before: page; page-break-before: always;"></div><h1 id="the-robot-and-robotcontainer-classes"><a class="header" href="#the-robot-and-robotcontainer-classes">The Robot and RobotContainer Classes</a></h1>
<div style="break-before: page; page-break-before: always;"></div><h1 id="command-based-programming"><a class="header" href="#command-based-programming">Command-Based Programming</a></h1>
<p>The big-picture overview of Command-Based Programming includes two major components: <a href="command-based/command-based/subsystems/overview.html">Subsystems</a> and <a href="command-based/command-based/commands/overview.html">Commands</a>.</p>
<p><a href="command-based/command-based/subsystems/overview.html">Subsystems</a> are groups of related hardware intended to serve the same purpose.
For example, since each motor is represented as an individual object in WPILib,
a subsystem could be created for a mechanism that uses 2 motors.</p>
<p>Each subsystem is a class that wraps up all the hardware components into a single object,
providing methods to accomplish the basic operation of the mechanism.</p>
<p>Subsystems should also be used even when only a single hardware component is used to accomplish a task.
This is because using a subsystem allows for more descriptive method names and cleaner interactions with commands.</p>
<p>Generally, subsystems should include hardware components that will always be used simultaneously.</p>
<p>The following diagrams show what the member variables and methods of a subsystem might look like for:</p>
<ul>
<li>A drivebase with 4 motors, 2 on each side</li>
<li>A camera that can detect objects in front of the robot (note that this is just a wrapper around a library-provided object)</li>
<li>A grabber mechanism with one motor extending and retracting an arm, and a pneumatic closing and opening a claw to grab and release objects</li>
</ul>
<pre class="mermaid">classDiagram
    class DrivebaseSubsystem {
        Motor left1
        Motor left2
        Motor right1
        Motor right2
        drive()
    }

    class CameraSubsystem {
        Camera camera
        getDetectedObjects()
    }

    class GrabberSubsystem {
        Motor extend_retract
        Pneumatic grab_release
        extend()
        retract()
        grab()
        release()
    }
</pre>
<p><a href="command-based/command-based/commands/overview.html">Commands</a> are tasks that the robot can carry out.
They can be created, run in parallel and cancelled at any point.
They &quot;depend&quot; on subsystems, using subsystem class methods to accomplish tasks.
They must be used for long-running (more than a few milliseconds) tasks or any higher-level logic that spans across subsystems.
WPILib handles the execution of these tasks - the robot code only needs to define them and specify when they should run.</p>
<p>Using the subsystems from the previous diagram, here are some possible commands (hexagon nodes) and which subsystems (rectangle nodes) they depend on:</p>
<pre class="mermaid">graph TD
    DFD{{Drive Fixed Distance}} --&gt; D
    AAO{{Aim At Object}} --&gt; D
    AAO --&gt; C
    APU{{Auto Pick Up}} --&gt; C
    APU --&gt; G
    D[Drivebase]
    C[Camera]
    G[Grabber]
</pre>
<p><a href="command-based/command-based/subsystems/overview.html">Subsystems</a> and <a href="command-based/command-based/commands/overview.html">Commands</a> will be covered in more detail in their respective chapters.</p>
<div style="break-before: page; page-break-before: always;"></div><h1 id="overview-1"><a class="header" href="#overview-1">Overview</a></h1>
<div style="break-before: page; page-break-before: always;"></div><h1 id="creating-a-subsystem"><a class="header" href="#creating-a-subsystem">Creating a Subsystem</a></h1>
<div style="break-before: page; page-break-before: always;"></div><h1 id="common-issues"><a class="header" href="#common-issues">Common Issues</a></h1>
<div style="break-before: page; page-break-before: always;"></div><h1 id="best-practices"><a class="header" href="#best-practices">Best Practices</a></h1>
<div style="break-before: page; page-break-before: always;"></div><h1 id="overview-2"><a class="header" href="#overview-2">Overview</a></h1>
<div style="break-before: page; page-break-before: always;"></div><h1 id="creating-a-command"><a class="header" href="#creating-a-command">Creating a Command</a></h1>
<div style="break-before: page; page-break-before: always;"></div><h1 id="common-issues-1"><a class="header" href="#common-issues-1">Common Issues</a></h1>
<div style="break-before: page; page-break-before: always;"></div><h1 id="best-practices-1"><a class="header" href="#best-practices-1">Best Practices</a></h1>
<div style="break-before: page; page-break-before: always;"></div><h1 id="overview-3"><a class="header" href="#overview-3">Overview</a></h1>
<div style="break-before: page; page-break-before: always;"></div><h1 id="creating-a-command-1"><a class="header" href="#creating-a-command-1">Creating a Command</a></h1>
<div style="break-before: page; page-break-before: always;"></div><h1 id="common-issues-2"><a class="header" href="#common-issues-2">Common Issues</a></h1>
<div style="break-before: page; page-break-before: always;"></div><h1 id="best-practices-2"><a class="header" href="#best-practices-2">Best Practices</a></h1>
<div style="break-before: page; page-break-before: always;"></div><h1 id="drivetrain--motor-control"><a class="header" href="#drivetrain--motor-control">Drivetrain &amp; Motor Control</a></h1>
<div style="break-before: page; page-break-before: always;"></div><h1 id="pid"><a class="header" href="#pid">PID</a></h1>
<div style="break-before: page; page-break-before: always;"></div><h1 id="feedforwards"><a class="header" href="#feedforwards">Feedforwards</a></h1>
<div style="break-before: page; page-break-before: always;"></div><h1 id="pose-estimation"><a class="header" href="#pose-estimation">Pose Estimation</a></h1>
<div style="break-before: page; page-break-before: always;"></div><h1 id="path-planning"><a class="header" href="#path-planning">Path Planning</a></h1>
<div style="break-before: page; page-break-before: always;"></div><h1 id="vision"><a class="header" href="#vision">Vision</a></h1>

                    </main>

                    <nav class="nav-wrapper" aria-label="Page navigation">
                        <!-- Mobile navigation buttons -->


                        <div style="clear: both"></div>
                    </nav>
                </div>
            </div>

            <nav class="nav-wide-wrapper" aria-label="Page navigation">

            </nav>

        </div>




        <script>
            window.playground_copyable = true;
        </script>


        <script src="elasticlunr.min.js"></script>
        <script src="mark.min.js"></script>
        <script src="searcher.js"></script>

        <script src="clipboard.min.js"></script>
        <script src="highlight.js"></script>
        <script src="book.js"></script>

        <!-- Custom JS scripts -->
        <script src="mermaid.min.js"></script>
        <script src="mermaid-init.js"></script>

        <script>
        window.addEventListener('load', function() {
            window.setTimeout(window.print, 100);
        });
        </script>

    </body>
</html>
